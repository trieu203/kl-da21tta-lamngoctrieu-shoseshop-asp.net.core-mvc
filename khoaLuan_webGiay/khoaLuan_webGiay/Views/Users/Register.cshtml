@model khoaLuan_webGiay.Data.User
@{
    ViewData["Title"] = "Đăng ký thành viên";
    Layout = "_Product";
}

<div class="container mt-5">
    <h2 class="text-center mb-4">Đăng ký tài khoản</h2>

    <form id="registerForm">
        <!-- Bước 1: Nhập Email -->
        <div id="step-email">
            <div class="form-group">
                <label>Email</label>
                <input id="emailInput" name="email" class="form-control" type="email" required />
            </div>
            <button type="button" class="btn btn-primary" onclick="sendOtp()">Gửi mã OTP</button>
        </div>

        <!-- Bước 2: Nhập OTP -->
        <div id="step-otp" class="d-none mt-3">
            <div class="form-group">
                <label>Nhập mã OTP</label>
                <input id="otpInput" class="form-control" type="text" required />
            </div>
            <div id="message" class="mt-3 text-success">
                OTP đã gửi, kiểm tra email.
            </div>
            <div class="alert alert-warning mt-2">
                <strong>Lưu ý:</strong> Nếu không thấy email, vui lòng kiểm tra <b>hộp thư rác (Spam)</b> và đánh dấu là <b>Không phải spam</b> để nhận OTP lần sau nhanh hơn.
            </div>
            <button type="button" class="btn btn-success" onclick="verifyOtp()">Xác nhận OTP</button>
        </div>

        <!-- Bước 3: Nhập thông tin cá nhân -->
        <div id="step-info" class="d-none mt-5">
            <div class="card shadow-sm border-0 rounded-4">
                <div class="card-header bg-primary text-white rounded-top-4">
                    <h5 class="mb-0"><i class="bi bi-person-fill-add me-2"></i>Thông tin cá nhân</h5>
                </div>
                <div class="card-body row g-3 px-4 py-3">
                    <div class="col-md-6">
                        <label class="form-label"><i class="bi bi-person-circle me-1"></i> Tên đăng nhập</label>
                        <input name="UserName" class="form-control" required placeholder="Nhập tên đăng nhập" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label"><i class="bi bi-lock-fill me-1"></i> Mật khẩu</label>
                        <input name="Password" type="password" class="form-control" required placeholder="Nhập mật khẩu" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label"><i class="bi bi-card-text me-1"></i> Họ tên</label>
                        <input name="FullName" class="form-control" placeholder="Nhập họ và tên" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label"><i class="bi bi-telephone-fill me-1"></i> Số điện thoại</label>
                        <input name="PhoneNumber" class="form-control" placeholder="Nhập số điện thoại" />
                    </div>
                    <div class="col-12">
                        <label class="form-label"><i class="bi bi-geo-alt-fill me-1"></i> Địa chỉ</label>
                        <input name="Address" class="form-control" placeholder="Nhập địa chỉ của bạn" />
                    </div>
                    <input type="hidden" name="Email" id="emailHidden" />
                </div>
                <div class="card-footer bg-light text-end rounded-bottom-4 px-4 py-3">
                    <button type="submit" class="btn btn-success">
                        <i class="bi bi-check2-circle me-1"></i> Hoàn tất đăng ký
                    </button>
                </div>
            </div>
        </div>
    </form>

    <div id="message" class="mt-3 text-danger"></div>
</div>


@section Scripts {
    <script src="~/js/register.js"></script>
}
